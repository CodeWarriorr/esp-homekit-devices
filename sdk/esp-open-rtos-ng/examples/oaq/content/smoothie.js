"HTTP/1.1 200 \r\n"
"Content-Type: text/javascript\r\n"
"Cache-Control: max-age=900\r\n"
"Transfer-Encoding: chunked\r\n"
"Connection: close\r\n"
"\r\n",
"(function(e){var t={extend:function(){arguments[0]=arguments[0]||{};for(var e=1;e<arguments.length;e++){for(var i in arguments[e]){if(arguments[e].hasOwnProperty(i)){if(typeof arguments[e][i]===\"object\"){if(arguments[e][i]instanceof Array){arguments[0][i]=arguments[e][i]}else{arguments[0][i]=t.extend(arguments[0][i],arguments[e][i])}}else{arguments[0][i]=arguments[e][i]}}}}return arguments[0]}};function i(e){this.options=t.extend({},i.defaultOptions,e);this.clear()}i.defaultOptions={resetBoundsInterval:3e3,resetBounds:true};i.prototype.clear=function(){this.data=[];this.maxValue=Number.NaN;this.minValue=Number.NaN};i.prototype.resetBounds=function(){if(this.data.length){this.maxValue=this.data[0][1];this.minValue=this.data[0][1];for(var e=1;e<this.data.length;e++){var t=this.data[e][1];if(t>this.maxValue){this.maxValue=t}if(t<this.minValue){this.minValue=t}}}else{this.maxValue=Number.NaN;this.minValue=Number.NaN}};i.prototype.append=function(e,t,i){var a=this.data.length-1;while(a>=0&&this.data[a][0]>e){a--}if(a===-1){this.data.splice(0,0,[e,t])}else if(this.data.length>0&&this.data[a][0]===e){if(i){this.data[a][1]+=t;t=this.data[a][1]}else{this.data[a][1]=t}}else if(a<this.data.length-1){this.data.splice(a+1,0,[e,t])}else{this.data.push([e,t])}this.maxValue=isNaN(this.maxValue)?t:Math.max(this.maxValue,t);this.minValue=isNaN(this.minValue)?t:Math.min(this.minValue,t)};i.prototype.dropOldData=function(e,t){var i=0;while(this.data.length-i>=t&&this.data[i+1][0]<e){i++}if(i!==0){this.data.splice(0,i)}};function a(e){this.options=t.extend({},a.defaultChartOptions,e);this.seriesSet=[];this.currentValueRange=1;this.currentVisMinValue=0;this.lastRenderTimeMillis=0}a.defaultChartOptions={millisPerPixel:20,enableDpiScaling:true,yMinFormatter:function(e,t){return parseFloat(e).toFixed(t)},yMaxFormatter:function(e,t){return parseFloat(e).toFixed(t)},maxValueScale:1,minValueScale:1,interpolation:\"bezier\",scaleSmoothing:.125,maxDataSetLength:2,scrollBackwards:false,grid:{fillStyle:\"#000000\",strokeStyle:\"#777777\",lineWidth:1,sharpLines:false,millisPerLine:1e3,verticalSections:2,borderVisible:true},labels:{fillStyle:\"#ffffff\",disabled:false,fontSize:10,fontFamily:\"monospace\",precision:2},horizontalLines:[],responsive:false};a.AnimateCompatibility=function(){var e=function(e,t){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(function(){e((new Date).getTime())},16)};return i.call(window,e,t)},t=function(e){var t=window.cancelAnimationFrame||function(e){clearTimeout(e)};return t.call(window,e)};return{requestAnimationFrame:e,cancelAnimationFrame:t}}();a.defaultSeriesPresentationOptions={lineWidth:1,strokeStyle:\"#ffffff\"};a.prototype.addTimeSeries=function(e,i){this.seriesSet.push({timeSeries:e,options:t.extend({},a.defaultSeriesPresentationOptions,i)});if(e.options.resetBounds&&e.options.resetBoundsInterval>0){e.resetBoundsTimerId=setInterval(function(){e.resetBounds()},e.options.resetBoundsInterval)}};a.prototype.removeTimeSeries=function(e){var t=this.seriesSet.length;for(var i=0;i<t;i++){if(this.seriesSet[i].timeSeries===e){this.seriesSet.splice(i,1);break}}if(e.resetBoundsTimerId){clearInterval(e.resetBoundsTimerId)}};a.prototype.getTimeSeriesOptions=function(e){var t=this.seriesSet.length;for(var i=0;i<t;i++){if(this.seriesSet[i].timeSeries===e){return this.seriesSet[i].options}}};a.prototype.bringToFront=function(e){var t=this.seriesSet.length;for(var i=0;i<t;i++){if(this.seriesSet[i].timeSeries===e){var a=this.seriesSet.splice(i,1);this.seriesSet.push(a[0]);break}}};a.prototype.streamTo=function(e,t){this.canvas=e;this.delay=t;this.start()};a.prototype.resize=function(){var e=!this.options.enableDpiScaling||!window?window.devicePixelRatio:1,t,i;if(this.options.responsive){t=this.canvas.offsetWidth;i=this.canvas.offsetHeight;if(t!==this.lastWidth){this.lastWidth=t;this.canvas.setAttribute(\"width\",Math.floor(t*e).toString())}if(i!==this.lastHeight){this.lastHeight=i;this.canvas.setAttribute(\"height\",Math.floor(i*e).toString())}}else if(e!==1){t=parseInt(this.canvas.getAttribute(\"width\"));i=parseInt(this.canvas.getAttribute(\"height\"));if(!this.originalWidth||Math.floor(this.originalWidth*e)!==t){this.originalWidth=t;this.canvas.setAttribute(\"width\",Math.floor(t*e).toString());this.canvas.style.width=t+\"px\";this.canvas.getContext(\"2d\").scale(e,e)}if(!this.originalHeight||Math.floor(this.originalHeight*e)!==i){this.originalHeight=i;this.canvas.setAttribute(\"height\",Math.floor(i*e).toString());this.canvas.style.height=i+\"px\";this.canvas.getContext(\"2d\").scale(e,e)}}};a.prototype.start=function(){if(this.frame){return}var e=function(){this.frame=a.AnimateCompatibility.requestAnimationFrame(function(){this.render();e()}.bind(this))}.bind(this);e()};a.prototype.stop=function(){if(this.frame){a.AnimateCompatibility.cancelAnimationFrame(this.frame);delete this.frame}};a.prototype.updateValueRange=function(){var e=this.options,t=Number.NaN,i=Number.NaN;for(var a=0;a<this.seriesSet.length;a++){var s=this.seriesSet[a].timeSeries;if(!isNaN(s.maxValue)){t=!isNaN(t)?Math.max(t,s.maxValue):s.maxValue}if(!isNaN(s.minValue)){i=!isNaN(i)?Math.min(i,s.minValue):s.minValue}}if(e.maxValue!=null){t=e.maxValue}else{t*=e.maxValueScale}if(e.minValue!=null){i=e.minValue}else{i-=Math.abs(i*e.minValueScale-i)}if(this.options.yRangeFunction){var n=this.options.yRangeFunction({min:i,max:t});i=n.min;t=n.max}if(!isNaN(t)&&!isNaN(i)){var r=t-i;var l=r-this.currentValueRange;var o=i-this.currentVisMinValue;this.isAnimatingScale=Math.abs(l)>.1||Math.abs(o)>.1;this.currentValueRange+=e.scaleSmoothing*l;this.currentVisMinValue+=e.scaleSmoothing*o}this.valueRange={min:i,max:t}};a.prototype.render=function(e,t){var i=(new Date).getTime();if(!this.isAnimatingScale){var a=Math.min(1e3/6,this.options.millisPerPixel);if(i-this.lastRenderTimeMillis<a){return}}this.resize();this.lastRenderTimeMillis=i;e=e||this.canvas;t=t||i-(this.delay||0);t-=t%this.options.millisPerPixel;var s=e.getContext(\"2d\"),n=this.options,r={top:0,left:0,width:e.clientWidth,height:e.clientHeight},l=t-r.width*n.millisPerPixel,o=function(e){var t=e-this.currentVisMinValue;return this.currentValueRange===0?r.height:r.height-Math.round(t/this.currentValueRange*r.height)}.bind(this),h=function(e){if(n.scrollBackwards){return Math.round((t-e)/n.millisPerPixel)}return Math.round(r.width-(t-e)/n.millisPerPixel)};this.updateValueRange();s.font=n.labels.fontSize+\"px \"+n.labels.fontFamily;s.save();s.translate(r.left,r.top);s.beginPath();s.rect(0,0,r.width,r.height);s.clip();s.save();s.fillStyle=n.grid.fillStyle;s.clearRect(0,0,r.width,r.height);s.fillRect(0,0,r.width,r.height);s.restore();s.save();s.lineWidth=n.grid.lineWidth;s.strokeStyle=n.grid.strokeStyle;if(n.grid.millisPerLine>0){s.beginPath();for(var u=t-t%n.grid.millisPerLine;u>=l;u-=n.grid.millisPerLine){var m=h(u);if(n.grid.sharpLines){m-=.5}s.moveTo(m,0);s.lineTo(m,r.height)}s.stroke();s.closePath()}for(var d=1;d<n.grid.verticalSections;d++){var f=Math.round(d*r.height/n.grid.verticalSections);if(n.grid.sharpLines){f-=.5}s.beginPath();s.moveTo(0,f);s.lineTo(r.width,f);s.stroke();s.closePath()}if(n.grid.borderVisible){s.beginPath();s.strokeRect(0,0,r.width,r.height);s.closePath()}s.restore();if(n.horizontalLines&&n.horizontalLines.length){for(var c=0;c<n.horizontalLines.length;c++){var g=n.horizontalLines[c],p=Math.round(o(g.value))-.5;s.strokeStyle=g.color||\"#ffffff\";s.lineWidth=g.lineWidth||1;s.beginPath();s.moveTo(0,p);s.lineTo(r.width,p);s.stroke();s.closePath()}}for(var v=0;v<this.seriesSet.length;v++){s.save();var S=this.seriesSet[v].timeSeries,w=S.data,x=this.seriesSet[v].options;S.dropOldData(l,n.maxDataSetLength);s.lineWidth=x.lineWidth;s.strokeStyle=x.strokeStyle;s.beginPath();var b=0,y=0,V=0;for(var T=0;T<w.length&&w.length!==1;T++){var N=h(w[T][0]),P=o(w[T][1]);if(T===0){b=N;s.moveTo(N,P)}else{switch(n.interpolation){case\"linear\":case\"line\":{s.lineTo(N,P);break}case\"bezier\":default:{s.bezierCurveTo(Math.round((y+N)/2),V,Math.round(y+N)/2,P,N,P);break}case\"step\":{s.lineTo(N,V);s.lineTo(N,P);break}}}y=N;V=P}if(w.length>1){if(x.fillStyle){s.lineTo(r.width+x.lineWidth+1,V);s.lineTo(r.width+x.lineWidth+1,r.height+x.lineWidth+1);s.lineTo(b,r.height+x.lineWidth);s.fillStyle=x.fillStyle;s.fill()}if(x.strokeStyle&&x.strokeStyle!==\"none\"){s.stroke()}s.closePath()}s.restore()}if(!n.labels.disabled&&!isNaN(this.valueRange.min)&&!isNaN(this.valueRange.max)){var M=n.yMaxFormatter(this.valueRange.max,n.labels.precision),k=n.yMinFormatter(this.valueRange.min,n.labels.precision),F=n.scrollBackwards?0:r.width-s.measureText(M).width-2,R=n.scrollBackwards?0:r.width-s.measureText(k).width-2;s.fillStyle=n.labels.fillStyle;s.fillText(M,F,n.labels.fontSize);s.fillText(k,R,r.height-2)}if(n.timestampFormatter&&n.grid.millisPerLine>0){var A=n.scrollBackwards?s.measureText(k).width:r.width-s.measureText(k).width+4;for(var u=t-t%n.grid.millisPerLine;u>=l;u-=n.grid.millisPerLine){var m=h(u);if(!n.scrollBackwards&&m<A||n.scrollBackwards&&m>A){var B=new Date(u),W=n.timestampFormatter(B),L=s.measureText(W).width;A=n.scrollBackwards?m+L+2:m-L-2;s.fillStyle=n.labels.fillStyle;if(n.scrollBackwards){s.fillText(W,m,r.height-2)}else{s.fillText(W,m-L,r.height-2)}}}}s.restore()};a.timeFormatter=function(e){function t(e){return(e<10?\"0\":\"\")+e}return t(e.getHours())+\":\"+t(e.getMinutes())+\":\"+t(e.getSeconds())};e.TimeSeries=i;e.SmoothieChart=a})(typeof exports===\"undefined\"?this:exports);"
